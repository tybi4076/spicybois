---
title: "Lab 8"
author: "Spicy Bois"
date: "10/17/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
```


# Who is hiring us?
**Domain Expert:** For the purpose of our the data we found, we are being asked by a college ethics board to analyze the salaries of several different types of professors to ensure equality and fairness in their compensations. 

# Overall Question (TEAM)

**Question:** How do factors like professor rank, discipline, years since PHD, years of service and sex effect the salaries of professors. 

**Why is it important/interesting:** This question could help find trends and patterns within the salaries of professors to ensure that fair compensation is being provided, especially considering factors such as gender and seniority.  

# Description of the Dataset
This Data set has 397 observations(professors) on the following 6 variables: rank, discipline, years since PHD, years of service, gender, and salary.

# Individual Questions

## Visualizations
### Challa (Joe)
```{r}

```

### Tanganyika (Trent)
```{r}
Tanganyika <- read_excel("East Africa lake data.xlsx", sheet = 6)

Tanganyika <- select(Tanganyika, 'Year AD...1', 'BSi (normalized)', 'Year AD...4', 'Charcoal (normalized)','Year', TEX86)

Tanganyika <- rename(Tanganyika, Year1 = 'Year AD...1', BSi = 'BSi (normalized)',Year2 = 'Year AD...4', Charcoal = 'Charcoal (normalized)', Year3 = 'Year')

Tang1 <- Tanganyika %>% select(Year1, BSi) %>%
  filter(!is.na(BSi)) 
Tang2 <- Tanganyika %>% select(Year2, Charcoal) %>%
  filter(!is.na(Charcoal))
Tang3 <- Tanganyika %>% select(Year3, TEX86) %>%
  filter(!is.na(TEX86))

Tang12 <- full_join(Tang1, Tang2, by = c("Year1" = "Year2"))
AllTang <- full_join(Tang12, Tang3, by = c("Year1" = "Year3")) 

ggplot(AllTang) + geom_point(aes(x = Year1, y = BSi, color = 'BSi Data')) + geom_point(aes(x = Year1, y = Charcoal, color='Charcoal Data')) + geom_point(aes(x = Year1, y = TEX86, color='TEX86 Data'))
  labs(title = "How Rroxies of Rainfall Data in Tanganyika Change by Year", y = "Rainfall (cm)", x = "Year")

```

### Malawi (Tyler)
```{r}

```

### CRU and MAM Rainfall (Jack)
```{r}
CRUnMAM_Rainfall <- read_excel("East Africa lake data.xlsx", sheet = 9)
CRUnMAM_Rainfall_tidy <- select(CRUnMAM_Rainfall, 'GPCC MAM Normalized', 'CRU MAM Normalized', 'GPCC OND Normalized', 'CRU OND Normalized')
CRUnMAM_Rainfall_tidy <- rename(CRUnMAM_Rainfall, GPCC_MAM = 'GPCC MAM Normalized', CRU_MAM = 'CRU MAM Normalized', GPCC_OND = 'GPCC OND Normalized', CRU_OND = 'CRU OND Normalized') %>% gather(GPCC_MAM, CRU_MAM, GPCC_OND, CRU_OND, key = "Rainfall_type", value = "Year")

ggplot(CRUnMAM_Rainfall_tidy, aes(x = Rainfall_type, y = Year)) +
geom_line()+
labs(title = "Rainfall Types for every year", y = "Year", x = "Rainfall types")
```


### VOI Rainfall (Logan)
```{r, message=FALSE}
VOI_Rainfall <- read_excel("East Africa lake data.xlsx", sheet = "VOI rainfall station data")
VOI_Rainfall_tidy <- VOI_Rainfall %>% select(-c(`...14`, `...15`)) %>% 
  gather("Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", key = "Month", value = "Rainfall") %>%
  mutate(Month = if_else(Month == "Jan", 1, if_else(Month == "Feb", 2, if_else(Month == "Mar", 3, if_else(Month == "Apr", 4, if_else(Month == "May", 5, if_else(Month == "Jun", 6, if_else(Month == "Jul", 7, if_else(Month == "Aug", 8, if_else(Month == "Sep", 9, if_else(Month == "Oct", 10, if_else(Month == "Nov", 11, if_else(Month == "Dec", 12, 0))))))))))))) %>% 
  arrange(Year) %>%
  filter(!is.na(Rainfall))

labels <- c(Female = "Women", Male = "Men")

ggplot(VOI_Rainfall_tidy, aes(x = Year, y = Rainfall)) + 
  facet_wrap(.~Month, labeller=labeller(Month =  c(`1` = "January", `2` = "February", `3` = "March", `4` = "April", `5` = "May", `6` = "June", `7` = "July", `8` = "August", `9` = "September", `10` = "October", `11` = "November", `12` = "December"))) + 
  geom_line() + 
  labs(title = "VOI Rainfall for every month vs. year", y = "Rainfall (cm)", x = "Year")
```




